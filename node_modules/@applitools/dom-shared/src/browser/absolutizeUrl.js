'use strict';

function absolutizeUrl(url, baseUrl) {
  const isEncoded = url !== decodeURI(url);
  const absoluteUrl = new URL(url, baseUrl).href;
  return !isEncoded ? decodeURI(absoluteUrl) : absoluteUrl;
}

module.exports = absolutizeUrl;
